<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-6</title>
</head>
<style>
    .error{
        color:red;
    }
</style>
<body>
    <div>
        <p>Email:</p>
        <input type="email" id ="email">
        <div id="emailError" class="error"></div>
        <p>Password:</p>
        <input type="password" id ="password">
        <div id="passworderror" class="error"></div>
        <p>Retype password:</p>
        <input type="password" id ="password2">
        <div id="password2error" class="error"></div>
        <p><button type="button" onclick="checkUser()" style="background-color: black; color: white; padding: 5px;">REGISTER</button></p>
    </div>
    <script>
        let users=[
            {email:"ilyas@gmail.com"},
            {email:"serik@gmail.com"},
            {email:"john@gmail.com"},
        ]
        
        
        function checkUser(){
            let flag= false
            let flag2= false
            let flag3= false
            if (email.value == ""){
                emailError.innerHTML="Please insert email"
            }
            for(let user of users){
                if(email.value == user.email){
                    flag = true
                    emailError.innerHTML="Current email is already in use"
                }
            }
            let pwdlength=password.value
            if (pwdlength.length<6){
                passworderror.innerHTML="Password length must be at least 6 symbols"
                flag2 = true
            }
            if (password.value != password2.value){
                password2error.innerHTML="Passwords are not the same"
                flag3 = true
            }
            if (!flag && !flag2 && !flag3){
                alert ("User succefully registered!")
        }
        }
        
        

    </script>
</body>
</html>